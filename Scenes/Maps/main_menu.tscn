[gd_scene load_steps=18 format=3 uid="uid://d238gnvhywbbl"]

[ext_resource type="Shader" path="res://Scenes/QOL/fog.gdshader" id="1_b7j4r"]
[ext_resource type="Shader" path="res://Scenes/UI/thick_lines.gdshader" id="3_16c82"]
[ext_resource type="FontFile" uid="uid://b1qhc2v2pagr7" path="res://Scenes/Menus/fontpack/Trajan Bold.ttf" id="3_jxc05"]
[ext_resource type="Script" path="res://Scenes/Maps/main_menu.gd" id="4_rcwcr"]
[ext_resource type="PackedScene" uid="uid://cc5qfg5kv3g5" path="res://Scenes/QOL/aurora_borealis/Aurora.tscn" id="5_pfqyn"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_pbevn"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_wrnm1"]
sky_material = SubResource("ProceduralSkyMaterial_pbevn")

[sub_resource type="Environment" id="Environment_op01b"]
background_mode = 2
sky = SubResource("Sky_wrnm1")
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
tonemap_mode = 2
tonemap_exposure = 1.3
glow_enabled = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.02
volumetric_fog_albedo = Color(0, 0, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6mqup"]
shader = ExtResource("1_b7j4r")
shader_parameter/base_density = 0.05
shader_parameter/base_color = Color(1, 1, 1, 1)
shader_parameter/fade_out_height = 5.0
shader_parameter/fade_out_distance = 1.5
shader_parameter/noise_amounts = Vector3(0.4, 0.35, 0.25)
shader_parameter/noise_scales = Vector3(1, 2, 4)
shader_parameter/noise_velocity1 = Vector3(0.5, 0, 0)
shader_parameter/noise_velocity2 = Vector3(1, 0, -1)
shader_parameter/noise_velocity3 = Vector3(0, 0.6, 0.3)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tia3p"]
render_priority = 0
shader = ExtResource("3_16c82")
shader_parameter/shadow_color = Color(0, 0, 0, 1)
shader_parameter/shadow_thickness = 1.0

[sub_resource type="QuadMesh" id="QuadMesh_ilhap"]
material = SubResource("ShaderMaterial_tia3p")

[sub_resource type="BoxMesh" id="BoxMesh_768no"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nh2xf"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ml66w"]
points = PackedVector3Array(-500, 0, -500, -500, 0, 500, 500, 0, -500, 500, 0, 500)

[sub_resource type="Theme" id="Theme_8tovc"]
default_font = ExtResource("3_jxc05")
default_font_size = 150
RichTextLabel/colors/default_color = Color(0, 0, 0, 0.752941)
RichTextLabel/colors/font_outline_color = Color(0, 0, 0, 1)
RichTextLabel/constants/outline_size = 1

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_6a12e"]

[sub_resource type="Theme" id="Theme_s8xfc"]
default_font = ExtResource("3_jxc05")
default_font_size = 40
Button/colors/font_color = Color(0, 0, 0, 0.631373)
Button/styles/normal = SubResource("StyleBoxEmpty_6a12e")

[node name="MainMenu" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.478256, 0.126205, -0.19696)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_op01b")

[node name="FogVolume" type="FogVolume" parent="WorldEnvironment"]
shape = 4
material = SubResource("ShaderMaterial_6mqup")

[node name="Camera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.469472, 0.882948, 0, -0.882948, 0.469472, 0, 22.0722, 11.6761)

[node name="ThickLines" type="MeshInstance3D" parent="Camera"]
transform = Transform3D(5, 0, 0, 0, 5, -2.38419e-07, 0, 0, 5, 0, 0, -1)
mesh = SubResource("QuadMesh_ilhap")

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(200, 0, 0, 0, 4, 0, 0, 0, 200, 0, -1, 0)
mesh = SubResource("BoxMesh_768no")
surface_material_override/0 = SubResource("StandardMaterial3D_nh2xf")

[node name="StaticBody3D" type="StaticBody3D" parent="Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_ml66w")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 61.2727, 29.6707)
light_color = Color(0.952941, 0.815686, 0.690196, 1)
light_energy = 3.395

[node name="Aurora" parent="." instance=ExtResource("5_pfqyn")]
transform = Transform3D(100, 0, 0, 0, 100, 0, 0, 0, 100, 0, -10, 0)

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 1920.0
offset_bottom = 1080.0
script = ExtResource("4_rcwcr")

[node name="RichTextLabel" type="RichTextLabel" parent="Control"]
layout_mode = 0
offset_left = 207.0
offset_top = 393.0
offset_right = 1762.0
offset_bottom = 716.0
theme = SubResource("Theme_8tovc")
text = "O a t h K e e p e r"

[node name="VBoxContainer" type="VBoxContainer" parent="Control"]
layout_mode = 0
offset_top = 631.0
offset_right = 1920.0
offset_bottom = 919.0
theme = SubResource("Theme_s8xfc")
theme_override_constants/separation = 30
alignment = 1

[node name="StartButton" type="Button" parent="Control/VBoxContainer"]
layout_mode = 2
text = "START"

[node name="OptionsButton" type="Button" parent="Control/VBoxContainer"]
layout_mode = 2
text = "OPTIONS"

[node name="QuitButton" type="Button" parent="Control/VBoxContainer"]
layout_mode = 2
text = "QUIT"

[connection signal="pressed" from="Control/VBoxContainer/StartButton" to="Control" method="_on_start_button_pressed"]
[connection signal="pressed" from="Control/VBoxContainer/QuitButton" to="Control" method="_on_quit_button_pressed"]
