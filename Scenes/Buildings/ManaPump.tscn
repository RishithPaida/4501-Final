[gd_scene load_steps=7 format=3 uid="uid://cmyb0fc77fuwp"]

[ext_resource type="Script" path="res://Scripts/BuildingDemiGod.gd" id="1_g8abx"]
[ext_resource type="ArrayMesh" uid="uid://dgojjf6bsai3" path="res://Assets/building_models/buildings/well.obj" id="2_0lj4c"]
[ext_resource type="PackedScene" uid="uid://0c6jslptgrnr" path="res://Scenes/UI/HealthBar.tscn" id="3_yqlyx"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rnp8y"]
albedo_color = Color(0.862745, 0.682353, 0.976471, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_sfar6"]
points = PackedVector3Array(-0.4, -0.5, 0, -0.368285, -0.30002, -0.0363352, -0.398121, -0.5, -0.0392326, -0.398121, -0.5, 0.0391543, -0.368285, -0.30002, 0.0362568, -0.250039, 0.5, 0, -0.36296, -0.30002, -0.0722005, -0.248865, 0.5, -0.0245106, -0.245262, 0.5, -0.0487862, -0.392326, -0.5, -0.0780736, -0.392326, -0.5, 0.0779953, -0.36296, -0.30002, 0.0721222, -0.245262, 0.5, 0.0487079, -0.248865, 0.5, 0.0244322, -0.38285, -0.5, -0.116132, -0.239311, 0.5, -0.072592, -0.38285, -0.5, 0.116053, -0.239311, 0.5, 0.0725137, -0.341895, -0.30002, -0.14166, -0.369616, -0.5, -0.153093, -0.23101, 0.5, -0.0956931, -0.369616, -0.5, 0.153015, -0.341895, -0.30002, 0.141582, -0.23101, 0.5, 0.0956147, -0.299922, -0.100039, -0.160298, -0.273453, 0.0999413, -0.146202, -0.35278, -0.5, -0.188567, -0.220517, 0.5, -0.117854, -0.35278, -0.5, 0.188489, -0.299922, -0.100039, 0.160219, -0.273453, 0.0999413, 0.146124, -0.220517, 0.5, 0.117776, -0.282772, -0.100039, -0.188959, -0.332655, -0.5, -0.22224, -0.23289, 0.299922, -0.155599, -0.207909, 0.5, -0.138919, -0.332655, -0.5, 0.222161, -0.282772, -0.100039, 0.18888, -0.23289, 0.299922, 0.155521, -0.207909, 0.5, 0.138841, -0.30924, -0.5, -0.253798, -0.239702, 0.0999413, -0.196711, -0.193265, 0.5, -0.158653, -0.30924, -0.5, 0.25372, -0.239702, 0.0999413, 0.196633, -0.193265, 0.5, 0.158575, -0.261707, -0.30002, -0.261707, -0.28285, -0.5, -0.28285, -0.176821, 0.5, -0.176821, -0.28285, -0.5, 0.282772, -0.261707, -0.30002, 0.261629, -0.176821, 0.5, 0.176742, -0.253798, -0.5, -0.30924, -0.196711, 0.0999413, -0.239702, -0.158653, 0.5, -0.193265, -0.253798, -0.5, 0.309162, -0.196711, 0.0999413, 0.239624, -0.158653, 0.5, 0.193187, -0.188959, -0.100039, -0.282772, -0.22224, -0.5, -0.332655, -0.155599, 0.299922, -0.23289, -0.138919, 0.5, -0.207909, -0.22224, -0.5, 0.332576, -0.188959, -0.100039, 0.282694, -0.155599, 0.299922, 0.232811, -0.138919, 0.5, 0.207831, -0.160298, -0.100039, -0.299922, -0.146202, 0.0999413, -0.273453, -0.188567, -0.5, -0.35278, -0.117854, 0.5, -0.220517, -0.188567, -0.5, 0.352702, -0.160298, -0.100039, 0.299843, -0.146202, 0.0999413, 0.273375, -0.117854, 0.5, 0.220439, -0.14166, -0.30002, -0.341895, -0.153093, -0.5, -0.369616, -0.0956931, 0.5, -0.23101, -0.153093, -0.5, 0.369538, -0.14166, -0.30002, 0.341817, -0.0956931, 0.5, 0.230932, -0.116132, -0.5, -0.38285, -0.072592, 0.5, -0.239311, -0.116132, -0.5, 0.382772, -0.072592, 0.5, 0.239233, -0.0722005, -0.30002, -0.36296, -0.0780736, -0.5, -0.392326, -0.0487862, 0.5, -0.245262, -0.0780736, -0.5, 0.392247, -0.0722005, -0.30002, 0.362882, -0.0487862, 0.5, 0.245184, -0.0363352, -0.30002, -0.368285, -0.0392326, -0.5, -0.398121, -0.0245106, 0.5, -0.248865, -0.0392326, -0.5, 0.398042, -0.0363352, -0.30002, 0.368207, -0.0245106, 0.5, 0.248786, 0, -0.5, -0.4, 0, 0.5, -0.250039, 0, -0.5, 0.4, 0, 0.5, 0.249961, 0.0362568, -0.30002, -0.368285, 0.0391543, -0.5, -0.398121, 0.0244322, 0.5, -0.248865, 0.0391543, -0.5, 0.398042, 0.0362568, -0.30002, 0.368207, 0.0244322, 0.5, 0.248786, 0.0721222, -0.30002, -0.36296, 0.0487079, 0.5, -0.245262, 0.0779953, -0.5, -0.392326, 0.0779953, -0.5, 0.392247, 0.0721222, -0.30002, 0.362882, 0.0487079, 0.5, 0.245184, 0.116053, -0.5, -0.38285, 0.0725137, 0.5, -0.239311, 0.116053, -0.5, 0.382772, 0.0725137, 0.5, 0.239233, 0.141582, -0.30002, -0.341895, 0.153015, -0.5, -0.369616, 0.0956147, 0.5, -0.23101, 0.153015, -0.5, 0.369538, 0.141582, -0.30002, 0.341817, 0.0956147, 0.5, 0.230932, 0.160219, -0.100039, -0.299922, 0.146124, 0.0999413, -0.273453, 0.188489, -0.5, -0.35278, 0.117776, 0.5, -0.220517, 0.188489, -0.5, 0.352702, 0.160219, -0.100039, 0.299843, 0.146124, 0.0999413, 0.273375, 0.117776, 0.5, 0.220439, 0.18888, -0.100039, -0.282772, 0.222161, -0.5, -0.332655, 0.155521, 0.299922, -0.23289, 0.138841, 0.5, -0.207909, 0.222161, -0.5, 0.332576, 0.18888, -0.100039, 0.282694, 0.155521, 0.299922, 0.232811, 0.138841, 0.5, 0.207831, 0.25372, -0.5, -0.30924, 0.196633, 0.0999413, -0.239702, 0.158575, 0.5, -0.193265, 0.25372, -0.5, 0.309162, 0.196633, 0.0999413, 0.239624, 0.158575, 0.5, 0.193187, 0.261629, -0.30002, -0.261707, 0.282772, -0.5, -0.28285, 0.176742, 0.5, -0.176821, 0.282772, -0.5, 0.282772, 0.261629, -0.30002, 0.261629, 0.176742, 0.5, 0.176742, 0.309162, -0.5, -0.253798, 0.239624, 0.0999413, -0.196711, 0.193187, 0.5, -0.158653, 0.309162, -0.5, 0.25372, 0.239624, 0.0999413, 0.196633, 0.193187, 0.5, 0.158575, 0.282694, -0.100039, -0.188959, 0.332576, -0.5, -0.22224, 0.232811, 0.299922, -0.155599, 0.207831, 0.5, -0.138919, 0.332576, -0.5, 0.222161, 0.282694, -0.100039, 0.18888, 0.232811, 0.299922, 0.155521, 0.207831, 0.5, 0.138841, 0.299843, -0.100039, -0.160298, 0.273375, 0.0999413, -0.146202, 0.352702, -0.5, -0.188567, 0.220439, 0.5, -0.117854, 0.352702, -0.5, 0.188489, 0.299843, -0.100039, 0.160219, 0.273375, 0.0999413, 0.146124, 0.220439, 0.5, 0.117776, 0.341817, -0.30002, -0.14166, 0.369538, -0.5, -0.153093, 0.230932, 0.5, -0.0956931, 0.369538, -0.5, 0.153015, 0.341817, -0.30002, 0.141582, 0.230932, 0.5, 0.0956147, 0.382772, -0.5, -0.116132, 0.239233, 0.5, -0.072592, 0.382772, -0.5, 0.116053, 0.239233, 0.5, 0.0725137, 0.362882, -0.30002, -0.0722005, 0.392247, -0.5, -0.0780736, 0.245184, 0.5, -0.0487862, 0.392247, -0.5, 0.0779953, 0.362882, -0.30002, 0.0721222, 0.245184, 0.5, 0.0487079, 0.368207, -0.30002, -0.0363352, 0.398042, -0.5, -0.0392326, 0.248786, 0.5, -0.0245106, 0.398042, -0.5, 0.0391543, 0.368207, -0.30002, 0.0362568, 0.248786, 0.5, 0.0244322, 0.4, -0.5, 0, 0.249961, 0.5, 0)

[sub_resource type="ViewportTexture" id="ViewportTexture_8ddfp"]
viewport_path = NodePath("SubViewport")

[node name="ManaPump" type="StaticBody3D" groups=["allybuilding", "building", "manapump"]]
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 0, 0, 0)
script = ExtResource("1_g8abx")
woodcost = 2
foodcost = 5
rubycost = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = ExtResource("2_0lj4c")
surface_material_override/0 = SubResource("StandardMaterial3D_rnp8y")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("ConvexPolygonShape3D_sfar6")

[node name="Area3D" type="Area3D" parent="."]

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
shape = SubResource("ConvexPolygonShape3D_sfar6")

[node name="HealthDisplay" type="Sprite3D" parent="."]
transform = Transform3D(0.663877, 0, 0, 0, 0.667339, 0, 0, 0, 0.707986, 0, 4.00816, 0)
billboard = 1
texture = SubResource("ViewportTexture_8ddfp")

[node name="SubViewport" type="SubViewport" parent="."]
disable_3d = true
transparent_bg = true

[node name="HealthBar" parent="SubViewport" instance=ExtResource("3_yqlyx")]
value = 0.0

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="body_exited" from="Area3D" to="." method="_on_area_3d_body_exited"]
